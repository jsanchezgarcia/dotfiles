# Kitty Configuration

# Default directory
startup_session ~/.config/kitty/startup.conf

# Font configuration
font_family      JetBrains Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        20.0

# Cursor
cursor_shape block
cursor_blink_interval 0

# Window layout
window_padding_width 4
hide_window_decorations titlebar-only

# Tab bar
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
tab_bar_min_tabs 1
tab_title_template "{'ZOOMED' if layout_name == 'stack' else ''}"

# Tokyo Night Theme
background #1a1b26
foreground #c0caf5
selection_background #283457
selection_foreground #c0caf5
url_color #73daca
cursor #c0caf5
cursor_text_color #1a1b26

# Tabs
active_tab_background #7aa2f7
active_tab_foreground #16161e
inactive_tab_background #292e42
inactive_tab_foreground #545c7e

# Windows
active_border_color #7aa2f7
inactive_border_color #292e42

# Normal colors
color0 #15161e
color1 #f7768e
color2 #9ece6a
color3 #e0af68
color4 #7aa2f7
color5 #bb9af7
color6 #7dcfff
color7 #a9b1d6

# Bright colors
color8  #414868
color9  #ff899d
color10 #9fe044
color11 #faba4a
color12 #8db0ff
color13 #c7a9ff
color14 #a4daff
color15 #c0caf5

# Extended colors
color16 #ff9e64
color17 #db4b4b

# Enable remote control for smart-splits integration
allow_remote_control yes
listen_on unix:/tmp/kitty

# Window splits
enabled_layouts splits,stack

# Navigation between Kitty windows
map ctrl+j neighboring_window down
map ctrl+k neighboring_window up
map ctrl+h neighboring_window left
map ctrl+l neighboring_window right

# Pass through to Neovim when focused
map --when-focus-on var:IS_NVIM ctrl+j
map --when-focus-on var:IS_NVIM ctrl+k
map --when-focus-on var:IS_NVIM ctrl+h
map --when-focus-on var:IS_NVIM ctrl+l

# Create new splits (matching Ghostty keybindings)
map opt+cmd+left kitten split_window.py left
map opt+cmd+right launch --location=vsplit --cwd=current
map opt+cmd+up kitten split_window.py up
map opt+cmd+down launch --location=hsplit --cwd=current

# Equalize splits
map opt+cmd+equal resize_window reset

# Toggle split zoom (maximize/restore current pane)
# Using alt instead of opt in case of macOS keyboard mapping
map alt+enter toggle_layout stack

# Additional split creation shortcuts
map ctrl+shift+- launch --location=hsplit --cwd=current
map ctrl+shift+\ launch --location=vsplit --cwd=current

# Close current pane only (not the entire OS window)
# In Kitty, close_window closes the current split/pane
confirm_os_window_close 1
macos_quit_when_last_window_closed no

# Override default cmd+w to close current split/pane instead of OS window
# First clear all cmd+w mappings
clear_all_shortcuts no
map cmd+w close_window
map ctrl+shift+w close_window

# Claude Code multi-line input support
map --when-focus-on title:claude shift+enter send_text normal,application \x0a

# Mouse mappings
mouse_map cmd+left release ungrabbed mouse_handle_click link
